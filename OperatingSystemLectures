solarka.ccfit.nsu.ru
//password login
четверг 9 утра Срегей Евгеньевич

Kurose RoSS - Destributed systems
===========

Intitute :

ssd1.sscc.ru : 2231
login : nsulab
password : ^ConCurrEnt17$


NSU : 

ssh hpcuser64@10.4.60.10

10.4.60.10
hpcuser##
s3432064
password : FIT-2017
excl

=======================================================
Операционные системы. Лекция 2.

ОС -- не обслуживает нужды поьлзователя, а упрощает жизнь программиста, который обслуживает нужды пользователя
  
   1) Позволяет обстрагироваться от железа
------  
   2) Управление виртальной памятью(Memory)
   3) Время центрального процессора (ЦПУ) (Центральное процессорное Устройство)
   4) Переферийные устройства
   5) Внешняя память (Storage) Файлы


Labs
1) --
2) --
3) --
4) --
5) --
6) --

=====================================================

Операционные системы. Лекция 3.
Процессы.


======================================================
Операционная система. Лекция 10.
Многопоточность.
race condition
Критические секции

После переключения нужно сохранить важные регистры(контекст процесса) , чтобы потом загрузить его обратно и нить смогла снова работать корректно

Как происходит переключение нитей?

--- Вставляем системный вызов в программу с определенной частотой
	+ Детерминизм

--- Механизм прерываний
	По таймеру проиходит прерывание (SATA, IRQ Ready, Vec, таблица прерываний)
	После него дорабатывается текущая команда

	- Недерминизм


Способ борьбы с критическими секциями.


while(flag)
		<------- mistake here
flag = true.

алгоритм Декера : 

while(flag1)

flag2 = true;

обьединение установку флага и его проверку в одну команду
(аппаратное решение)
xchg reg,mem <-- блокирует все программы

атомарность	
in java "atomic"
	
	вот это все
|------------------------------------|
		^
		|	
spinlock -------|

сам планировщик не явл нитью.
он использует mutexes

Примитив -- НЕпрозрачный тип с которым можно работать по средствам определенного набора операций.

Реинтерабелность функции -- можно вызывать многократно в том числе из разных нитей.
	
	
Препядсктвия для аб
	-- fortran - все локальные переменные в одной области и если вызвать второй раз то переменные те же
	-- функция без side effects(чистые функции), нет критических секций
	-- функции с кретичискими секциями, а во всем остальном чистая
		допустим , защитили крит секцию, но если вызвали рекурсивно внутри одной нити, то видим что она не реинтерабельна.(signal safe funtions , printf example,locks)


dead lock : 
	2 locks, 2 threads : 
	thread 1 -- lock A, lock B	| =>	Dead lock
	thread 2 -- lock B, lock A	|
	solutions : 
		1) Forbid such programs


============================================================
Операционные системы. Лекция 11.
У каждого файла есть свой номер в файловой системе. Этот номер он отображает в структуру inode.

sticky bit for directories. In order to delete the file you need write to file and catalog permissions also. (????)
 hard links -- только в пределах одной файловой системы и не на директории
если удалить все линки, но файл кто-то держит открытым, то он не удаляется


Сигналы 
Низкоуровневый механизм сообщения об ошибке

			
	
lost wake up
pause()
implementation of sleep()

setjmp(), longjmp() is like try catch in c++



===========================================================
Лекция 2

Переферийные устройства.

 КАК УСТРОЕНЫ ПЕРЕФИРИЙНЫЕ ШИНЫ
Система ввода вывода
Устройства ввода
Устройства вывода
Устройства памяти

сложно классифицировать
таймер 
сетевая карта

вторая классификация как устройство подключено
непостредственно к шине
 - таймер
 - контроллер прерываний
 ...
шина мост PCI -- преобразование скоростей , сигналов
переключать устройства из более старых компьютеров в новые
логические устройства имеют адреса на системной шине

фаза автоконфигурации
опрешиваются устройства
устройства возращают много информации про себя
ID произвадителя
ID модели
функциональное описание

устройству нужны порты на шине,
что делать если 2 устройства претендуют на 1 адрес порта
адресный дешифратор
шины с географической адресацией
каждый разьем на диапазон адресов
 у интел - адресное пространство нормально и пространство вводы вывода
PCI - логическое расширение системной шины


USB шина
сколько устройств в USB порт??
подать корневому хабу команду чтобы что то сделать
переферейная шина
firewire
SCSI - переферйный интерфейс - параллельная шина на которую можно повесить 8 устройств ( диски,  сканеры, ethernet contr )
SCSI команды  можно подключить USB FireWire SAS ISCSI ( в качестве передачи TCP/IP )
SAN

блочное устройство -- т.е минимальная единица информациии  - блок
RAID






